{namespace spo.gametemplate}


/**
 * User template - generate list of users that are clickable.
 * @param list The list of user names.
 */
{template .UserList}
  {foreach $recipient in $list}
    <span class="clickable" data-indexkey="{index($recipient)}">{$recipient}</span>
    {if (isLast($recipient))}
      &nbsp;
    {else}
      ,&nbsp;
    {/if}
  {/foreach}
{/template}


/**
 * Contains the composer view. It is entierly programatically controlled, thus no fields can be prefilled.
 */
{template .Composer}
  <div class="{css mail-composer}">
  	<div class="{css toolbars-wrap} {css mail-bottom-border} {css mail-padded}">
  		<div class="{css goog-button} {css form-button} {css circle-button} {css send-button}"></div>
    	<div class="{css editor-toolbar}"></div>
    </div>
    <div class="{css fields-wrap} {css mail-bottom-border} {css mail-padded}">
    	<div class="{css mail-composer-form-field}">
    		<label>To:</label>
    		<input class="{css form-values} {css field-to}" type="text"/>
    	</div>
    	<div class="{css mail-composer-form-field}">
    		<label>From:</label>
    		<input class="{css form-values} {css field-from}" type="text"/>
    	</div>
    	<div class="{css mail-composer-form-field}">
    		<label>Subject:</label>
    		<input class="{css form-values} {css field-subject}" type="text"/>
    	</div>
    </div>
    <div class="{css editor-field}" id="mail-composer-text-field"></div>
  </div>
{/template}

/**
 * @param name The mailbox view name.
 * @param count The number of items unred in the mailbox.
 */
{template .MailBox}
  <div class="{css mail-box}">
  	<div class="{css mail-box-content}">
    	<span class="{css mail-box-name}">{$name}</span>
    	<span class="{css mail-box-count}">{$count}</span>
    </div>
    <div class="{css mail-box-active-indicator}"></div>
  </div>
{/template}

/**
 * @param header The header title to use (wither TEAMS or Control teams).
 */
{template .MailBoxList}
  <div class="{css mail-box-list}">
    <div class="{css detail-heading}">{$header}</div>
  </div>
{/template}

/**
 * The container for the mail list for boxes.
 */
{template .MailList}
	<div class="{css mail-list-container}">
		<div class="{css mail-listing-view}">
			<!-- mails should go here -->
		</div>
		<div class="{css control-buttons}">
			<span class="{css goog-button} {css text-button} {css form-button} {css prev}">Prev</span>
			<span class="{css goog-button} {css text-button} {css form-button} {css next}">Next</span>
		</div>
	</div>
{/template}

/**
 * Mail record in mail list.
 * @param recordid
 * @param sender
 * @param subject
 * @param date
 * @param isread
 */
{template .MailRecord}
	<div class="
	{if ($isread == false)}
		{css mail-record-container} {css unread}
	{else}
		{css mail-record-container}
	{/if}
	">
		<div class="{css mail-record}">
			<div class="{css record-raw} {css raw-one}">
				<span>{$sender}</span>
				<span class="{css mail-date}">{$date}</span>
				<span class="{css mail-preview-indicator}"></span>
				<div class="{css current-indicator}"></div>
			</div>
			<div class="{css record-raw} {css raw-two}">{$subject}</div>
		</div>
		<div class="{css mail-record-overlay}" data-recordid="{$recordid}"></div>
	</div>
{/template}
/**
 * The mail preview widget. Controls are exclude due to difference in msg types.
 * @param from The alias of the sender.
 * @param date The date the message has been sent.
 * @param subject The subject of the message.
 * @param recepients List of recepients to display.
 * @param body The body of the message.
 */
{template .MailPreview autoescape="false"}
  <div class="{css mail-preview-box}">
    <div class="{css mail-preview-controls} {css mail-padded} {css mail-bottom-border}">
      <!-- controls go here -->
    </div>
    <div class="{css mail-preview-details} {css mail-padded} {css mail-bottom-border}">
      <div><span class="{css mail-service-info}">From:&nbsp;</span>{$from}</div>
      <div><span class="{css mail-service-info}">Date:&nbsp;</span>{$date}</div>
      <div><span class="{css mail-service-info}">Subject:&nbsp;</span>{$subject}</div>
      <div><span class="{css mail-service-info} {css user-list-container}">To:&nbsp;</span>{$recepients}</div>
    </div>
    <div class="{css mail-preview-body} {css mail-padded}">{$body}</div>
  </div>
{/template}

/**
 * The widgets for the game arena
 */
{template .Widgets}
	<div class="{css left-pane}">
		<div class="{css top-pane}">
			<div class="{css mail-list-placeholder}">
				<!-- set the mailbox list here and next to it float the mail list -->
			</div>
		</div>
		<div class="{css bottom-pane}">
			<div class="{css meeting-box-placeholder}">
				<!-- setup the meeting widget here -->
			</div>
		</div>
	</div>
	<div class="{css right-pane}">
    <div class="{css mail-editor-container}" style="display: none;"></div>
    <div class="{css mail-preview-container}" style="display: none;"></div>
	</div>
{/template}
/**
 *
 */
{template .ListLoading}
	<div class="{css load-indicator}">Loading...</div>
{/template}

/**
 * This is the main
 */
{template .game}
  <div class="{css fullscreen}">
    <div class="{css header} {css game-header}">
      <!-- put here the header widget -->
    </div>
    <div class="{css content}"></div>
  </div>
{/template}

