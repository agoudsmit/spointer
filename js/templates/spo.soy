{namespace spo.template}

/**
 * This is the clock at the header, it is used programatically.
 * @param time The time string to set.
 * @param date The date string to set.
 */
{template .clock}
  <div>time <span class="{css time} {css bold}">{$time}</span></div>
  <div>date <span class="{css date} {css bold}">{$date}</span></div>
{/template}

/**
 * This is the default non-logged user header.
 */
{template .header}
  <div class="{css header}">
    <h1>InterAct</h1>
    <div class="{css to-right}">
      <div class="{css date-time}"></div>
      <div>You are not logged in</div>
    </div>
  </div>
{/template}

/**
 * Marks with css class 'live' the sections that are supposed to be handled
 * by the js logic and not directly filled in by the template engine
 * @param username The user's name as provided by the server.
 */
{template .headerWithLogin}
    <h1>InterAct</h1>
    <h3 class="{css live} {css game-name}"></h3>
    <h2 class="{css live} {css view-name}"></h2>
    <div class="{css to-right}">
      <div class="{css date-time}"></div>
      <div>You are logged in as <span class="{css bold}">{$username}</span></div>
      <div><a class="{css header-link}" href="">Log out</a></div>
      <div class="{css live} {css search-input}" style="display: none;">
        <input type="text" />
      </div>
    </div>
{/template}

/**
 * Represent the login form, it has two states!
 * @param loginurl The url to assign to the login form
 */
{template .loginForm}
  <div class="{css login-panel}">
    <div class="{css greeting}"></div>
    <form action="{$loginurl}" method="post"
    accept-charset="utf-8">
      <div class="{css input}">
        <input id="loginemail" name="loginemail" type="text" label="Name" />
      </div>
      <div class="{css login-mode}" style="display:none;">
        <div class="{css input}">
          <input id="password" name="password" type="password"
          label="Password" class="{css input-password}" />
        </div>
        <div>
          <a href="#/forgotpass">
            <span class="{css link}">Lost your password?</span>
          </a>
        </div>
      </div>
      <div class="{css forgotpass-mode}" style="display:none;">
        <div>
          <a href="#">
            <span class="{css link}">Return to login form</span>
          </a>
        </div>
      </div>
      <div style="clear:both;"></div>
      <div style="float:right;position:relative;width:25px;height:25px;top:-50px;left: -10px">
        <div class="{css goog-button} {css form-button}"></div>
      </div>
    </form>
  </div>
{/template}


/**
 * Composition for the login screen. Re-use the header here.
 * @param loginurl The url to use for the form
 */
{template .login}
  <div class="{css fullscreen}">
    {call .header /}
    <div class="{css content}">
      <div class="{css center-both}">
        {call .loginForm}
          {param loginurl: $loginurl /}
        {/call}
      </div>
    </div>
  </div>
{/template}

/**
 * This is the main
 */
{template .admin}
  <div class="{css fullscreen}">
    <div class="{css header}">
      <!-- put here the header widget -->
    </div>
    <div class="{css content}">
    </div>
  </div>
{/template}


/**
 * @param title The screen title to use.
 */
{template .screenWithTileList}
  <div class="{css left-panel-sixty}">
    <div class="{css tile-list-container}"></div>
  </div>
  <div class="{css right-panel-fourty}"></div>
  <div class="{css top-panel}">
    <span class="{css back-button}" aria-hidden="true" data-icon="&#x21;"></span>
    <span class="{css main-header}">{$title}</span>
    <input name="searchterm" type="text" label="Search for game" class="{css search-field}"></input>
  </div>
{/template}

/**
 * @param name The name of the item.
 * @param starttime The start time, parsed as human readable item.
 * @param playercount The number of active players in the game.
 * @param status The current status of the game.
 */
{template .gameTile}
  <div class="{css tile-item} {css scroll-list-item}">
    <div class="{css tile-inner-container}">
      <div class="{css tile-body}">
        <div class="{css game-name}">{$name}</div>
        <div>Users: {$playercount}</div>
        <div>Game started: {$starttime}</div>
        <div>Current time: <span class="{css game-time}"></span></div>
        <div>State: <span class="{css game-status}">{$status}</span></div>
      </div>
    </div>
  </div>
{/template}

/**
 * @param hint The hint to show to the user
 */
{template .createGame}
  <div class="{css tile-item} {css scroll-list-item}">
    <div class="{css tile-inner-container}">
      <div class="{css tile-body}">
        <div class="{css input}">
          <input id="gamename" name="gamename" type="text"
          label="{$hint}" />
        </div>
        <div class="{css error} {css bold}"></div>
        <div class="{css bottom-right}">
          <div class="{css goog-button} {css form-button} {css text-button}">Confirm</div>
        </div>
      </div>
    </div>
  </div>
{/template}

/**
 * @param description The game record to present.
 */
{template .gameSettings}
  <div class="{css column-one}">
    <div class="detail-heading">Game description</div>
    <div class="game-description">{$description}</div>
    <div class="{css hr}"></div>
    <div class="detail-heading">Game date <span class="game-date"></span></div>
    <div class="{css hr}"></div>
    <div class="detail-heading">Game time <span class="game-time"></span></div>
    <div class="{css hr}"></div>
    <div class="detail-heading">Change game time</div>
    <div>One day passes in <span class="detail-heading"></span> minute(s)</div>
    <div class="goog-slider"></div>
  </div>
{/template}

/**
 *
 */
{template .gameControls}
  <div class="{css game-controls}">
    <div class="{css game-control-item} {css form-button} {css goog-button} {css pause-button} {css circle-button}" data-action="pause"></div>
    <div class="{css game-control-item} {css form-button} {css goog-button} {css stop-button} {css circle-button}" data-action="stop"></div>
    <div class="{css game-control-item} {css form-button} {css goog-button} {css delete-button} {css circle-button}" data-action="delete"></div>
    <div class="{css game-control-item} {css form-button} {css goog-button} {css edit-button} {css circle-button}" data-action="edit"></div>

    <div class="{css game-control-item} {css text-button} {css form-button} {css goog-button}" data-action="uploaduser" style="position:relative;top:5px;float:right;margin-right:11px;">Upload user/team list</div>
    <div class="{css game-control-item} {css text-button} {css form-button} {css goog-button}" data-action="managecontrols" style="position:relative;top:5px;float:right;margin-right:11px">Manage controls</div>
    <div class="{css game-control-item} {css text-button} {css form-button} {css goog-button}" data-action="uploadscenario" style="position:relative;top:5px;float:right;margin-right:11px;">Upload scenario</div>
  </div>
{/template}

/**
 * @param game The game details to use.
 */
{template .gameDetails}
  <div class="{css game-details}">
    <div class="{css back-link}"></div>
    <div class="{css forward-link}"></div>
    <div class="{css game-controls}"></div>
    <div class="{css column-one} {css float-left}">
      {call .gameSettings}
        {param game: $game /}
      {/call}
    </div>
    <div class="{css column-two} {css float-left}"></div>
    <div class="{css column-three} {css float-left}"></div>
  </div>
{/template}

/**
 * @param title The title of the list.
 * @param teams List of team names (as strings).
 */
{template .simplelist}
  <div class="{css simple-list}">
    <div class="{css simple-list-title}">{$title}</div>
    <ul class="{css simple-list-list}">
      {foreach $name in $teams}
        <li>{$name}</li>
      {/foreach}
    </ul>
  </div>
{/template}

{/namespace}
